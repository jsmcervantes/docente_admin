<app-tiposPermiso-toolbar [entityName]="currentEntity.nombre"></app-tiposPermiso-toolbar>
<div class="grid justify-center mt-12">
  <div class="card shadow-2xl shadow-black bg-light">
    <div class="card-body">
      <div class="card-title">
        Registro de las <span class="text-primary">Tipos de Permiso</span>
      </div>
      <div class="divider"></div>
      <div class="grid">

      
        <label for="">Nombre:</label>
        <input class="input input-primary" type="text" name="" id="" placeholder=" Nombre del permiso" [(ngModel)]="currentEntity.nombre">
        <label for="">Fecha:</label>
        <input class="input input-primary" type="date" name="" id="" placeholder=" Fecha del Permiso" [(ngModel)]="currentEntity.fecha">
        <div><div class="form-control">

       <label>Creado por: </label>
       <div><div class="form-control">
  <app-username-combobox (usernameEmitter)="currentEntity.usernameId=$event" [usernameId]="currentEntity.usernameId"></app-username-combobox>
    <label class="label cursor-pointer">
    <span class="label-text">Activo</span>

    <input type="checkbox" class="toggle toggle-primary" [(ngModel)]="currentEntity.enabled" />


  </label>
  <table class="table table-compact">
    <thead>
      <tr>
        <th>Permiso</th>
        <th>Eliminar </th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let permission of currentEntity.permissions">
          <td>{{permission.description}}</td>
          <td>
            <a (click)="removePermission(permission.permissionId)" style="cursor:pointer;" >
              <svg class="w-4 h-4" (click)="removePermission(permission.permissionId)" class="w-4 h-4" fill="#ff4040"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
              x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;"
             xml:space="preserve">
             <g>
               <path
                 d="M490.667,96c0-17.673-14.327-32-32-32h-80.555C364.632,25.757,328.549,0.13,288,0h-64   c-40.549,0.13-76.632,25.757-90.112,64H53.333c-17.673,0-32,14.327-32,32l0,0c0,17.673,14.327,32,32,32H64v266.667   C64,459.468,116.532,512,181.333,512h149.333C395.468,512,448,459.468,448,394.667V128h10.667   C476.34,128,490.667,113.673,490.667,96z M384,394.667C384,424.122,360.122,448,330.667,448H181.333   C151.878,448,128,424.122,128,394.667V128h256V394.667z" />
               <path
                 d="M202.667,384c17.673,0,32-14.327,32-32V224c0-17.673-14.327-32-32-32s-32,14.327-32,32v128   C170.667,369.673,184.994,384,202.667,384z" />
               <path
                 d="M309.333,384c17.673,0,32-14.327,32-32V224c0-17.673-14.327-32-32-32s-32,14.327-32,32v128   C277.333,369.673,291.66,384,309.333,384z" />
             </g>
           </svg>
            </a>
          </td>
        </tr>
        <tr>
          <td >
            <app-permission-search (permissionEmitter)="this.currentEntity.permissions.push($event)"></app-permission-search>
          </td>
          <td></td>
        </tr>
    </tbody>
  </table>
    </div>
    <br>

<div>

</div>
  </div>
      </div>
      <div class="card-actions">
          <button class="btn bg-emerald-400 btn-sm text-white" (click)="save()">Guardar</button>
          <button class="btn btn-sm bg-red-500 text-white" (click)="cancelar()">Cancelar</button>
      </div>
    </div>

  </div>
  <div class="divider"></div>

  <div class="card card-compact shadow-2xl shadow-black bg-red-300">
    <div class="card-body">
     <div class="card-title">¡Advertencia!</div>
     <p>Si elimina <b>no podra recuperarlo</b></p>
     
      <div class="card-actions">


<label for="my-modal" class="btn modal-button btn btn-xs bg-red-500 text-white">Eliminar</label>

<input type="checkbox" id="my-modal" class="modal-toggle" />
<div class="modal">
  <div class="modal-box" >
    <h3 class="font-bold text-lg">¿Estás seguro?</h3>
    <p class="py-4">No se podrán revertir los cambios</p>
    <div class="modal-action">
      <label for="my-modal" class="btn bg-red-500 text-white" (click)="deleteById()">Confirmar</label>
      <label for="my-modal" class="btn bg-emerald-400 text-white">Cancelar</label>
    </div>
  </div>
</div>
      </div>
    </div>
  </div>
</div>

